<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>StoreCollect Thank You</title>
<style>
  body { font-family: Arial; text-align:center; padding:20px; background:#f3f3f3; }
  .container { max-width:600px; margin:auto; background:white; padding:20px; border-radius:12px; box-shadow:0 4px 10px rgba(0,0,0,0.1);}
  table { width:100%; border-collapse: collapse; margin-bottom:20px; }
  th, td { border-bottom:1px solid #ccc; padding:8px; text-align:left; }
  h2, h3 { margin-bottom:12px; }
</style>
</head>
<body>

<div class="container">
  <h2>Thank you, <span id="customerName"></span>!</h2>
  <p>Your order has been successfully placed.âœ…</p>

  <h3>Your Order:</h3>
  <table id="cartTable">
    <thead><tr><th>Product</th><th>Qty</th><th>Price</th></tr></thead>
    <tbody></tbody>
  </table>

  <h3>Total: R<span id="grandTotal"></span></h3>
</div>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const params = new URLSearchParams(window.location.search);

  const name = params.get("name") || "Customer";
  const total = params.get("total") || "0";
  const cart = JSON.parse(params.get("cart") || "[]");

  document.getElementById("customerName").textContent = name;
  document.getElementById("grandTotal").textContent = total;

  const tbody = document.querySelector("#cartTable tbody");
  cart.forEach(item => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${item.title}</td><td>${item.qty}</td><td>R${item.price}</td>`;
    tbody.appendChild(row);
  });
});
</script>

</body>
</html>
