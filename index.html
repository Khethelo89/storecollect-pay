<button id="payButton">Pay Now</button>
<div id="status" class="info">Fill the form and click "Pay Now".</div>

<script src="https://js.yoco.com/sdk/v1/yoco-sdk-web.js"></script>
<script>
document.addEventListener("DOMContentLoaded", () => {
  const statusEl = document.getElementById("status");
  const payButton = document.getElementById("payButton");

  const yoco = new YocoSDK({ publicKey: "pk_test_a3abafa43ol0djK02ad4" });

  payButton.addEventListener("click", () => {
    const amountInCents = 19900; // example: R199
    statusEl.textContent = "⏳ Opening Yoco payment popup...";
    statusEl.className = "info";

    yoco.showPopup({
      amountInCents,
      currency: "ZAR",
      name: "StoreCollect Payment",
      description: "Test Payment",
      callbacks: {
        onSuccess: (result) => {
          console.log("Yoco token result:", result);
          if (result && result.id) {
            statusEl.textContent = "✅ Payment successful! Token ID: " + result.id;
            statusEl.className = "success";
          } else {
            statusEl.textContent = "⚠ Payment failed. No token returned.";
            statusEl.className = "error";
          }
        },
        onError: (err) => {
          console.error("Yoco popup error:", err);
          statusEl.textContent = "⚠ Payment failed: " + (err.message || "Check console");
          statusEl.className = "error";
        }
      }
    });
  });
});
              </script>
